# How to change inp file for running a UEL job
(reference : pdf file in this directory)

## Create base inp file in ABAQUS/CAE
1. Complete part model
2. In property module, only need to set property for DUMMY element. (Isotropic elastic E = 1e-11, $\mu$ = 0.3 is recommended.)
3. Complete Assembly, Step, Load, Mesh Model as you wish.

## Base inp file example
An ordinary inp file looks like this:
```text
*Heading
** Job name: FNM_UEL_DemoTests_SmallDeformation_NonlinearTest_UELBase Model name: FNM_UEL_DemoTests_SmallDeformation_NonlinearTest_UELBase_V03112025
** Generated by: Abaqus/CAE 2022
*Preprint, echo=NO, model=NO, history=NO, contact=NO
**
** PARTS
**
*Part, name=Part-1
*Node
      1,           1.,           1.
      2,           0.,           0.
      3,           1.,           0.
      4,           0.,           1.
*Element, type=CPS3
1, 1, 2, 3
2, 2, 1, 4
*Nset, nset=_PickedSet3, internal, generate
 1,  4,  1
*Elset, elset=_PickedSet3, internal
 1, 2
** Section: Section-1
*Solid Section, elset=_PickedSet3, material=Material-1
1.,
*End Part
**  
**
** ASSEMBLY
**
*Assembly, name=Assembly
**  
*Instance, name=Part-1-1, part=Part-1
*End Instance
**  
*Nset, nset=_PickedSet4, internal, instance=Part-1-1
 2,
*Nset, nset=_PickedSet5, internal, instance=Part-1-1
 4,
*Nset, nset=_PickedSet6, internal, instance=Part-1-1
 1, 3
*End Assembly
** 
** MATERIALS
** 
*Material, name=Material-1
*Depvar
     22,
*User Material, constants=2
 1e-11, 0.3
** ----------------------------------------------------------------
** 
** STEP: Step-1
** 
*Step, name=Step-1, nlgeom=YES
*Static
1., 1., 1e-15, 1.
** 
** BOUNDARY CONDITIONS
** 
** Name: FixX Type: Displacement/Rotation
*Boundary
_PickedSet5, 1, 1
** Name: FixXY Type: Displacement/Rotation
*Boundary
_PickedSet4, 1, 1
_PickedSet4, 2, 2
** Name: Load Type: Displacement/Rotation
*Boundary
_PickedSet6, 1, 1, -0.01
** 
** OUTPUT REQUESTS
** 
*Restart, write, frequency=0
** 
** FIELD OUTPUT: F-Output-1
** 
*Output, field
*Node Output
U, 
*Element Output, directions=YES
ESDV, SDV
** 
** HISTORY OUTPUT: H-Output-1
** 
*Output, history, variable=PRESELECT
*End Step
```
## Modified inp file
which need to be modified to new file like this:
```text
*Heading
** Job name: FNM_UEL_DemoTests_SmallDeformation_NonlinearTest_UELBase Model name: FNM_UEL_DemoTests_SmallDeformation_NonlinearTest_UELBase_V03112025
** Generated by: Abaqus/CAE 2022
*Preprint, echo=NO, model=NO, history=NO, contact=NO
**
** PARTS
**
*Part, name=Part-1
*Node
      1,           1.,           1.
      2,           0.,           0.
      3,           1.,           0.
      4,           0.,           1.
*Element, type=CPS3
1, 1, 2, 3
2, 2, 1, 4
*Nset, nset=_PickedSet3, internal, generate
 1,  4,  1
*Elset, elset=_PickedSet3, internal
 1, 2
** Section: Section-1
*Solid Section, elset=_PickedSet3, material=Material-1
1.,
*End Part
**  
**
** ASSEMBLY
**
*Assembly, name=Assembly
**  
*Instance, name=Part-1-1, part=Part-1
*End Instance
**  
*Nset, nset=_PickedSet4, internal, instance=Part-1-1
 2,
*Nset, nset=_PickedSet5, internal, instance=Part-1-1
 4,
*Nset, nset=_PickedSet6, internal, instance=Part-1-1
 1, 3
*End Assembly
** 
** MATERIALS
** 
*Material, name=Material-1
*Depvar
     22,
*User Material, constants=2
 1e-11, 0.3
** ----------------------------------------------------------------
** 
** STEP: Step-1
** 
*Step, name=Step-1, nlgeom=YES
*Static
1., 1., 1e-15, 1.
** 
** BOUNDARY CONDITIONS
** 
** Name: FixX Type: Displacement/Rotation
*Boundary
_PickedSet5, 1, 1
** Name: FixXY Type: Displacement/Rotation
*Boundary
_PickedSet4, 1, 1
_PickedSet4, 2, 2
** Name: Load Type: Displacement/Rotation
*Boundary
_PickedSet6, 1, 1, -0.01
** 
** OUTPUT REQUESTS
** 
*Restart, write, frequency=0
** 
** FIELD OUTPUT: F-Output-1
** 
*Output, field
*Node Output
U, 
*Element Output, directions=YES
ESDV, SDV
** 
** HISTORY OUTPUT: H-Output-1
** 
*Output, history, variable=PRESELECT
*End Step
```
## Modification
1. user element declaration
```text
*user element, node=3, type=U1, properties=10, coordinates=2, variables=22
1, 2
*element, type=U1
1, 1, 2, 3
2, 2, 1, 4
```
2. dummy element  declaration
```text
*element, type=CPS3, elset=dummy
10001, 1, 2, 3
10002, 2, 1, 4
```
3. address UEL property
Warning: ONLY 8 number in a line !
```text
* uel property, elset=ALL
* 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0,
* 9.0, 0.1
```
4. set dummy section
```text
*solid section, elset=dummy, material=UMAT-dummy
```
## Run abaqus job
Then you can run abaqus job and see result files by ABAQUS/Viewer